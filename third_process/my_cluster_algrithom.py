# coding=utf-8
from find_exact_num import within
from find_exact_num import task_file_reading
from find_exact_num import file_read_location
import matplotlib.pyplot as plt
import numpy as np


def run_test_plot(ls):
    plt.figure(figsize=(8, 5), dpi=80)
    axes = plt.subplot(111)
    print len(ls)
    print ls
    # t = np.arange(len(ls))
    colors = [str(i) for i in 'bry']
    # colors = [str(i) for i in 'bgrcmyk']
    marker = [".", ",", "o", "v", "^", "<", ">", "1", "2", "3", "4", "8", "s", "p", "P", "*", "h", "H", "+", "x"]
    ee = 0
    eee = 0
    for pq in ls:
        axes.scatter([pq2[1] for pq2 in pq], [pq3[0] for pq3 in pq], s=100, c=colors[eee], marker=marker[ee])
        ee = (ee + 1) % len(marker)
        eee = (eee + 1) % len(colors)
    plt.show()


def cluster(to_be_split):
    '''
    :param to_be_split: tuple list which contains location(x,y)
    :return: splited multiple lists:
        eg: [ [(a1,a2)],  [(b1,b2),(c1,c2)],  [...] ]
    '''

    defined_distance = 0.3
    defined_max_num = 4

    added = [-1] * len(to_be_split)
    res = []
    for i, item in enumerate(to_be_split):

        tem_cluster = []
        if added[i] == -1:
            tem_cluster.append(i)
            # tem_cluster.append(item)
            added[i] = len(res)
            for j, item2 in enumerate(to_be_split):
                if i == j:
                    continue
                if added[j] == -1:
                    if within(item, item2, defined_distance):
                        tem_cluster.append(j)
                        # tem_cluster.append(item2)
                        added[j] = len(res)
                if len(tem_cluster) >= defined_max_num:
                    break
            res.append(tem_cluster)
    # print added
    return res


def percentage(clusterlst):
    resdict = dict()
    for item in clusterlst:
        resdict[item] = resdict.get(item, 0) + 1
    return resdict


if __name__ == '__main__':
    test = [(22.73004117, 114.2408795), (22.72704287, 114.2996199), (22.70131065, 114.2336007),
            (22.732721, 114.261045), (22.73287891, 114.2611436), (22.73581545, 114.2735094),
            (22.73156241, 114.2875823), (22.7167929, 114.2703179), (22.72610429, 114.2414213),
            (22.70601576, 114.2416887),
            (22.70584501, 114.2428698), (22.71886556, 114.2658133),
            (22.73806842, 114.2664469),
            (22.73841361, 114.2769492), (22.69864675, 114.2417616), (22.7219527, 114.295143),
            (22.72230496, 114.2514128), (22.71929156, 114.2602181), (22.73305324, 114.2761711),
            (22.71670893, 114.2452346),
            (22.72171594, 114.2780743), (22.73079366, 114.2683862), (22.71392643, 114.237995),
            (22.72085613, 114.247361),
            (22.73008534, 114.3031914), (22.72504817, 114.2923585), (22.71013195, 114.2495414),
            (22.73597693, 114.2767908),
            (22.73319874, 114.2894757), (22.72256534, 114.2786661), (22.73007657, 114.3032102),
            (22.72538813, 114.2953439),
            (22.72815392, 114.24069106), (22.72851735, 114.2401706), (22.72391473, 114.2957052),
            (22.72951735, 114.2401706), (22.72851735, 114.2411706)]
    # print len(test)
    # test2 = task_file_reading()
    # print [len(d) for d in cluster(test)]
    # run_test_plot(cluster(test))
    filepath = 'C:\Users\Venric\Desktop/newdata.xls'
    realtask = file_read_location(filepath)
    res0 = cluster(realtask)

    price = [73.00795613, 66.31023317, 65.87195769, 65.68881599, 66.73568181, 70.57388657, 65.71483823, 66.39512946,
             73.07834705, 66.39236726, 72.89723019, 67.19026213, 66.8901076, 67.93496849, 66.9163972, 66.75957238,
             66.25798588, 65.65520354, 66.75957238, 72.41007705, 65.65389617, 73.0171898, 68.10041137, 66.38479427,
             66.53955575, 66.92102428, 66.21307676, 66.82561569, 67.36015019, 66.94941216, 66.55253163, 66.60002992,
             66.94941216, 72.89723019, 66.61386039, 66.37157535, 66.42116482, 66.614508, 72.89723019, 65.49451011,
             65.97703998, 66.9774992, 68.76743403, 66.25372415, 66.24655464, 72.89723019, 66.38396216, 66.40562705,
             65.76811501, 65.87522128, 66.02391602, 72.89723019, 67.33320477, 66.22783438, 65.44901364, 67.17794763,
             65.8908112, 65.74401092, 67.79430923, 67.0226107, 66.79597626, 66.43695957, 67.07734827, 66.33218227,
             66.31542222, 65.92023982, 66.79529137, 66.88162789, 68.03401309, 73.0995184, 66.8789178, 73.0995184,
             66.42386797, 66.69112235, 66.54549927, 66.54379243, 72.89723019, 66.85016557, 68.35740423, 65.62324565,
             66.01377495, 66.16476644, 71.89340757, 66.97857028, 66.63701255, 65.7709114, 65.74251959, 65.45649044,
             65.90671954, 72.89723019, 67.10560483, 67.10982956, 66.83977126, 72.79087857, 68.2456271, 66.67962895,
             65.98103733, 65.83814246, 72.89723019, 65.88763181, 67.33124154, 65.87736482, 72.89723019, 70.01428028,
             66.40898004, 69.70754531, 69.70754531, 66.12405531, 65.72872636, 72.89723019, 65.38822629, 66.16476644,
             65.54744129, 65.80287028, 65.35074254, 66.76296092, 73.24532082, 65.37849384, 66.10918627, 66.26788269,
             65.66909484, 65.38822629, 65.74519499, 66.06475897, 66.10709174, 66.24549809, 65.38822629, 65.86502656,
             66.23788838, 65.81206337, 65.55786486, 65.69139326, 66.22426023, 65.86848879, 65.46256914, 66.0404727,
             65.57290773, 65.69653975, 65.4295569, 66.91975877, 66.3883483, 66.25172718, 65.84045513, 65.90081853,
             68.85553754, 66.26971409, 65.71279685, 65.82097765, 65.85361948, 66.14294124, 67.82911242, 65.85645784,
             66.75073496, 65.95302833, 65.6176102, 65.54190396, 65.86919763, 66.14615436, 68.85018566, 66.14787416,
             66.14615436, 66.55473482, 65.95895851, 66.44749894, 69.05164615, 66.96361522, 66.33761002, 68.14931139,
             66.0007544, 66.59154743, 68.14931139, 67.57345731, 65.71645428, 65.90897075, 66.26460601, 66.26534223,
             65.82680201, 69.07167734, 66.26713769, 65.63167228, 66.10631502, 65.69734505, 65.40591119, 66.13352609,
             65.65396752, 65.8071128, 67.87708576, 65.89317228, 65.88471179, 67.88133335, 65.6212806, 65.51718043,
             65.87342398, 66.0052048, 66.04307094, 65.67548692, 65.67819209, 65.86550201, 67.82911242, 65.95233006,
             65.61454722, 65.8922565, 65.52647218, 65.86550201, 65.37727148, 65.80398717, 68.8453581, 65.88704145,
             65.35069483, 67.79271759, 65.77721738, 68.826644, 65.92969551, 66.36231614, 65.39906679, 65.48255954,
             65.47387787, 65.45448033, 65.98631173, 65.53862266, 66.21114639, 65.58555221, 72.89723019, 65.55971211,
             65.71751171, 65.55971211, 65.49796456, 65.56552756, 65.64225729, 65.64669035, 66.27417512, 66.36955296,
             65.72122344, 65.42130496, 66.81567269, 67.76482283, 65.84708336, 65.44789855, 68.44863849, 65.52273018,
             67.00065211, 67.64124256, 65.44789855, 66.37356106, 65.45422967, 65.36589792, 65.49187958, 65.48441247,
             67.88468936, 65.56277256, 65.51371358, 66.27574954, 65.55369515, 65.37408562, 68.83896071, 66.78269177,
             68.80612215, 65.9195026, 66.36955296, 65.95399189, 66.40382988, 64.52900918, 67.13717533, 67.02614557,
             66.13299605, 65.56450979, 65.77580725, 73.22343446, 67.47435669, 65.45522848, 65.35630924, 65.38630192,
             65.14894579, 65.47822175, 72.89723019, 66.29736482, 65.63893073, 66.36955296, 65.46822169, 66.65049098,
             66.36955296, 65.43447254, 70.00801482, 65.63313266, 65.6967695, 65.56761738, 70.61736129, 65.68872081,
             65.68460818, 65.51259654, 65.97224971, 65.68194235, 65.29685731, 65.91917854, 65.41471736, 65.35597911,
             65.62018163, 65.24071362, 65.27876595, 65.39600478, 65.6868027, 66.79275007, 65.43951808, 65.57337016,
             65.71556969, 65.57391718, 65.6430823, 65.68233021, 65.448902, 65.76830228, 65.45085837, 67.93554686,
             65.71556969, 65.44021401, 65, 65.81746731, 65.6106091, 65.308623, 65.308623, 65.85825434, 65.84396875,
             66.4207727, 65.58602063, 65.73806185, 65.76094848, 65.36489826, 66.6151645, 65.2424906, 66.62167895,
             66.49373503, 66.93693782, 65.67471524, 67.46739626, 66.60106165, 72.89723019, 65.75384715, 66.36955296,
             70.07160546, 67.45864234, 65.60381886, 65.3735815, 65.64001057, 65.368094, 66.3207526, 66.52717812,
             66.48477706, 66.61951081, 70.03715488, 70.07582457, 66.36595454, 65.97107959, 65.93697792, 66.60157989,
             66.36955296, 65.81542132, 68.02344494, 65.86462519, 68.59955215, 66.36955296, 65.60752219, 65.52683734,
             65.95427001, 66.14836451, 65.62957663, 65.96234448, 69.5328784, 69.9686058, 65.35003066, 65.74348183,
             68.95724579, 67.05080559, 65.63146875, 65.75900834, 65.43872152, 67.12369513, 66.14177645, 66.0321966,
             66.14625722, 66.19413938, 66.15766475, 67.09662432, 65.35691607, 65.35476028, 65.83580831, 65.42590107,
             65.8244596, 65.80313316, 65.7191171, 66.80547528, 65.64225729, 65.51949135, 65.40202428, 65.64225729,
             66.07789002, 65.75693198, 65.60538407, 65.73073646, 65.42347179, 65.14938257, 65.52999127, 65.30898573,
             65.27333239, 65.45572096, 66.36955296, 66.36955296, 65.33577378, 66.59250781, 71.79403683, 66.75155354,
             65.74919673, 66.36955296, 65.56305238, 65.13938705, 66.32991004, 65.39994139, 65.32885819, 65.60677804,
             65.72097171, 66.36955296, 65.40911709, 65.7162519, 65.68048946, 66.95869715, 67.20372098, 66.36955296,
             65.75741911, 65.36701323, 70.73402951, 65.22691163, 65.42738926, 67.93971207, 65.91097099, 65.54265149,
             65.77244244, 65.75686641, 65.1767599, 65.45641764, 68.71269845, 65.76708729, 65.31251968, 65.55743834,
             65.59567972, 65.35990836, 65.17966722, 65.24257904, 63.96162418, 65.23498995, 65.16655789, 65.21147701,
             65.1486172, 65.16798877, 65, 65.81512271, 66.10722863, 65.89466591, 65.93247935, 66.41248111, 65.5438653,
             65.36588605, 66.15258633, 66.28391754, 65.49594839, 65.84167753, 66.40250275, 66.41471411, 66.36955296,
             65.98352055, 65.77799412, 65.34589933, 65.41403437, 66.17521698, 65.59060952, 65.34973668, 65.34158132,
             65.80441014, 72.44035364, 65.87102158, 72.44035364, 70.3565334, 68.88486569, 65.45595064, 65.49403485,
             66.51711818, 66.26458322, 66.65021473, 65.4637806, 65.94747559, 65.95534559, 65.78739507, 65.65982687,
             66.58619056, 65.57581718, 65.55523197, 65.5414025, 65.54959046, 65.39603923, 65.50972208, 65.53078708,
             65.95780797, 66.02215571, 66.0921581, 65.55027852, 65.49753149, 65.26907787, 65.54917334, 68.76210659,
             68.4444505, 68.45825115, 67.7796636, 66.12444973, 65.17215027, 66.01562112, 70.18719254, 66.03771052,
             66.05749786, 66.10212228, 72.43087107, 65.8722524, 66.10380747, 66.20603197, 65.95794211, 65.8722524,
             65.98518029, 65.45288003, 66.87123761, 66.03739819, 65.52876352, 66.20169324, 65.39628916, 65.39628916,
             65.77732796, 65.17827922, 65.9250769, 65.8572233, 65.95799853, 65.95534559, 65.8722524, 65.9949464,
             67.56038595, 66.02480086, 65.18560703, 66.39569936, 66.16046597, 66.39104436, 65.71275802, 66.25554781,
             65.66546482, 65.96310374, 66.2968849, 66.21340783, 68.83505002, 66.06001043, 68.8793343, 66.0276004,
             66.00902095, 67.19022291, 66.21340783, 66.2968849, 66.22723277, 65.50401316, 65.69021915, 66.39554136,
             66.52761562, 66.10701345, 65.85372602, 66.45562858, 65.49805418, 65.58240422, 65.73585273, 65.42865119,
             65.37670497, 65.8722524, 65.8722524, 65.43905025, 65.73585273, 68.12803022, 65.44450971, 65.59563234,
             65.32396174, 65.80792452, 65.6434957, 65.6775941, 65.6434957, 65.35867742, 65.8722524, 65.6434957,
             65.64194145, 65.8423336, 66.06581896, 65.72041847, 65.62546434, 65.73861368, 65.93200189, 65.86921746,
             67.58146812, 65.73861368, 65.9537197, 65.50618963, 66.01338177, 65.5032071, 67.73237849, 65.51186152,
             65.47390001, 65.38139263, 65.54056361, 65.45670869, 72.89723019, 65.29919493, 65.81076138, 65.84275569,
             66.384275, 66.05392097, 65.82542048, 65.88114042, 65.8722524, 70.14932404, 66.28444473, 66.06939691,
             65.44528726, 65.77150461, 65.8722524, 65.60306547, 66.30875542, 65.8722524, 65.67056836, 65.69738279,
             65.8722524, 72.76234367, 65.8722524, 70.10034831, 66.86511288, 65.8722524, 66.66412622, 70.10034831,
             67.65180727, 70.01136624, 66.20631133, 65.96717543, 66.91721424, 67.56194706, 66.50853805, 65.67771701,
             67.07638881, 65.85763572, 65.8722524, 66.65498782, 65.97314512, 65.8722524, 67.25533714, 65.9629603,
             65.37640915, 65.69145894, 65.64486929, 65.40514186, 66.08770557, 65.95269278, 66.2856512, 65.90634422,
             65.74477162, 65.87925692, 65.83804365, 66.16735533, 65.8722524, 65.89956788, 65.64834083, 65.78309685,
             66.14540096, 66.30634883, 65.90612948, 65.78781426, 65.78957161, 65.24249429, 68.41032738, 65.8722524,
             69.21505925, 65.85891999, 67.88277939, 65.91567821, 65.63965688, 65.76152948, 67.72164892, 65.6869132,
             65.26225759, 66.19191763, 70.3565334, 66.22826532, 69.20037938, 65.69703084, 65.71766721, 66.99251373,
             65.57424424, 66.39587625, 67.0289305, 67.0289305, 65.16873294, 70.23028782, 66.42471302, 70.23028782,
             65.16873294, 65.94205419, 65.82201138, 65.71703864, 70.23028782, 66.02881768, 65.49064947, 65.66483688,
             65.44034667, 70.23028782, 66.02881768, 65.66808271, 65.63447289, 65.70026422, 65.95512296, 66.16373174,
             65.77314037, 65.5740923, 65.81881317, 66.45135943, 65.7911847, 65.90980613, 66.13962649, 65.5895784,
             66.1338322, 66.46528533, 65.70468667, 65.93091769, 66.96872102, 65.89747149, 66.24125693, 65.60082161,
             66.15278175, 65.56619594, 65.58557914, 66.59457525, 66.57583422, 65.51092699, 66.57526415, 66.43310432,
             65.3454806, 70.23028782, 66.21583663, 65.89611023, 65.90561057, 66.07244421, 70.23028782, 65.36212143,
             65.3469335, 65.41785648, 65.51639602, 66.03157069, 66.25840581, 65.5837155, 66.06562617, 70.23028782,
             65.59493792, 65.43746875, 66.82359184, 70.23028782, 66.13715411, 66.4234531, 69.31738408, 66.58483663,
             65.68319641, 65.36105074, 65.81568642, 66.82359184, 66.82359184, 65.86380499, 66.92398046, 65.95494154,
             65.55274991, 65.58919458, 65.64551263, 65.55487416, 65.4512332, 65.83104431, 65.61648388, 65.44897567,
             65.71805762, 65.32821096, 65.6950948, 66.41183708, 65.54448794, 65.34196898, 65.5533257, 65.61627098,
             65.52919297, 65.60105251, 65.57725411, 70.23028782, 65.37691782, 65.67261852, 65.24236351, 65.53541879,
             66.93111915, 66.74030566, 66.43329928, 65.19439241, 65.482472, 65, 65.96426439, 67.79103279, 65.37528886,
             65.49535148, 66.05907346, 65.6027315, 65.61183835, 66.1062116, 70.23028782, 65.6456094, 65.62831259,
             65.81605969, 65.94035461, 68.80649193, 66.17412182, 70.02661183, 65.55890803, 65.63686945, 66.91127345,
             66.57651995, 65.318243, 66.91194764, 66.78514964, 66.50416573, 66.29612959, 66.31633233, 66.44763017,
             65.57932817, 65.99814849, 66.70176709, 68.88717266, 70.23028782, 66.10150581, 66.82359184, 65.92905637, 65,
             66.09876699, 65.48107703, 66.07191555, 66.29013136, 65.58692034, 66.31963774, 65.63055422, 65.95381609,
             66.27345096, 65.55280169, 66.09687213, 66.05943431, 66.07438631, 65.40524667, 70.23028782, 66.09687213,
             65.6584045, 70.23028782, 65.39922202, 66.50714222, 66.43657311, 66.39314278, 65.21506561, 66.19151836,
             65.61642381, 65.31631128, 65.24101938, 65.50026097, 65.60783784, 65.49826252, 65.23742222, 66.19550909,
             65.41216495, 66.23796682, 66.25500772, 66.56887059, 65.52789857, 65.53168157, 65.69236719, 65.49259358,
             66.46749588, 65.29956979, 66.07385537, 65.76644705, 65.29316996, 65.69906149, 65.76847382, 65.55651564,
             65.9757797, 65.90713496, 66.75077297, 66.01548448, 65.62945051, 65.43768952, 65.65307171, 65.60818488,
             70.21011941, 65.65520986, 65.59707193, 65.5077225, 65.56254853, 70.35061854, 65.93145191, 66.19440087,
             65.77632579, 66.04266114, 66.40169802, 66.73139531, 66.1936635, 66.56208168, 68.10003196, 66.19413678,
             66.19413678, 70.23028782, 70.23028782, 65.45425213, 65.45425213, 65.45425213, 68.82325925, 70.23028782,
             65.95893997, 68.42663945, 69.75777951, 68.61888401, 69.73961194, 68.80678576, 66.44170344, 65.9713955,
             66.12849396, 65.40485953, 67.06504511, 66.04015984, 66.10125206, 65.54078964, 66.01588503, 66.18646797,
             65.36051245, 65.59683655, 65.62233408, 66.07882182, 65.54624511, 65.60640298, 65.80211516, 65.21022721,
             70.23028782, 66.08757787, 65.62481161, 65.49806953, 70.23028782, 66.28789999, 65.55888072, 66.17886894,
             65.51368259, 65.59514056, 65.58592625, 65.31564892, 65.44019811, 73.06259162, 70.23028782, 65.35407,
             66.74260086, 65.42848351, 66.15706204, 65.78014763, 65.86887467, 65.76014739, 68.7907894, 69.0505185,
             70.23028782, 65.58416725, 68.17981805, 68.17910554, 72.84924958, 66.64053406, 65.65828611, 65.34656693,
             65.61911041, 65.77586421, 70.23028782, 66.29199775, 66.01258582, 65.74719868, 66.82994123, 65.75616541,
             65.96149283, 65.72099281, 65.53295568, 65.99839875, 65.92038721, 65.34724273, 66.07053266, 72.9472502,
             65.51920815, 65.39973127, 65.71568522, 65.4959632, 65.93858612, 65.75932562, 65.34474288, 66.32984351,
             65.2155083, 66.41110478, 72.89723019, 65.65566442, 65.89848375, 72.89723019, 72.89723019, 65.68881599,
             70.96250603, 66.37406081, 65.85791046, 66.62095091, 65.60772598, 65.59512492, 66.25928105, 66.4141856,
             65.91287053, 72.96850559, 65.97166445, 65.86861146, 66.10366892, 66.75957238, 67.96420234, 66.58164239,
             66.63453824, 66.39056411, 66.9455012, 65.90447585, 66.83868888, 72.40005108, 66.18172813, 68.80113886,
             67.37461371, 72.40005108, 65.59486136, 66.67264481, 65.40345991, 67.92050864, 66.5622897, 66.40564026,
             65.90782984, 67.0703849, 67.92788126, 72.97212885, 65.65389617, 72.33088761, 66.82561569, 66.61276512,
             67.18720631, 66.61355974, 66.60002992, 66.41811928, 66.24907353, 66.57694785, 72.89723019, 72.89723019,
             65.67100571, 72.89723019, 72.89723019, 67.9236036, 66.59272999, 68.32489801, 68.31766033, 65.74165349,
             66.39984424, 66.45326769, 66.41198357, 65.63158003, 65.98244994, 66.26615967, 65.44496645, 65.7685232,
             67.04995615, 65.96166093, 70.2461018, 71.84780412, 65.95966649, 66.09389002, 65.78460133, 70.2461018,
             66.15964886, 66.15964886, 72.61511609, 66.73170405, 65.87916019, 65.45913452, 65.87522128, 72.89723019,
             65.54479326, 72.89723019, 66.20397391, 65.62801432, 66.57859967, 65.6817852, 72.89723019, 65.49766357,
             65.67555499, 65.52905837, 65.67704156, 65.78711233, 65.67822768, 65.60760007, 65.44901364, 65.53362049,
             65.85398102, 66.4646809, 67.32430022, 65.8908112, 67.79430923, 67.01861372, 68.37910948, 65.93713922,
             66.82157194, 68.00006597, 65, 65.53580381, 66.79529137, 65.58417521, 66.43231777, 66.75146484, 66.01195867,
             66.88162789, 66.00031221, 66.80629705, 65.77450905, 66.33509566, 66.09202587, 65.58525254, 65.90602548,
             67.28036024, 72.89723019, 65.58525254, 71.37711727, 66.65749988, 65.45082967, 66.63701255, 73.08994916,
             66.14789017, 66.63701255, 66.15405257, 65.89541268, 65.764526, 72.89723019, 66.15363281, 65.72831023,
             65.74249133, 72.89723019, 65.68685208, 65.77014107, 72.89723019, 65.72960073, 72.89723019, 67.31931691,
             66.63605229, 67.10560483, 72.60359507, 66.68412725, 66.2011621, 72.68732156, 66.75070507, 72.89723019,
             65.88245102, 66.56546681, 66.59155112, 68.19648313, 72.82422229, 68.23216093, 66.25038507, 66.59155112,
             72.89723019, 72.89723019, 73.08353243, 65.88216335, 66.40860855, 67.12267448, 65.87209672, 65.64379374,
             65.90757639, 72.89723019, 72.96711866, 65.69291019, 72.89723019, 65.71919199, 72.89723019, 73.24532082,
             65.99773031, 65.74044858, 65.63335076, 65.7370674, 65.70816937, 65.38822629, 65.83006512, 65.99606784,
             65.67771561, 65.37964412, 65.38822629, 65.34683432, 66.26971409, 66.26971409, 65.97302076, 66.06886476,
             65.72173807, 66.26971409, 66.16562659, 65.66931916, 66.10912186, 65.80940335, 65.73421859, 70.31212092,
             65.57528849, 65.66919637, 65.91910122, 65.66919637, 65.92946813, 65.72972933, 65.41271215, 65.65064647,
             65.55786486, 65.55786486, 65.65064647, 66.17870697, 65.46256914, 65.34962942, 67.15235639, 65.46256914,
             65.46177196, 65.94488049, 65.6883645, 67.1164089, 65.69483566, 65.6398356, 67.0551948, 65.6517352,
             68.78469623, 65.73888725, 65.72981788, 65.94359926, 65.73910186, 65.74234706, 65.56838084, 65.72018788,
             65.42479192, 65.58349006, 65.64623916, 65.72515514, 65.71282903, 65.39950825, 65.55040612, 66.3327114,
             65.69082701, 65.8450203, 65.52036939, 65.80484773, 65.65907698, 65.86324526, 65.74012553, 65.95567283,
             66.76452753, 67.82911242, 65.72006214, 65.94806164, 68.85018566, 65.98745155, 65.65347937, 65.86919763,
             66.36716619, 66.16174117, 68.14931139, 65.94098407, 65.95895851, 68.14931139, 65.94098407, 66.14615436,
             67.57600117, 72.97144961, 66.57656217, 66.96494872, 69.05164615, 66.57557375, 65.90241199, 66.02539611,
             67.82911242, 66.33761002, 65.99933618, 65.98944215, 65.82888333, 66.37071907, 65.83014681, 65.61799891,
             65.99845145, 65.61799891, 65.62990645, 66.1256935, 65.35497159, 65.74788859, 66.26534223, 72.97144961,
             65.82803237, 67.25173302, 65.7808543, 67.82911242, 65.6250786, 65.87689585, 65.87713089, 66.2674664,
             65.39379106, 68.23499561, 65.96150924, 65.64504024, 65.97062218, 65.59581787, 65.60125371, 66.11230132,
             65.52647218, 65.51302092, 65.86550201, 65.86550201, 66.98367506, 70.11288846, 65.52001974, 65.98245991,
             69.07533041, 68.10855874, 65.38497218, 65.47554929, 67.79271759, 65.38497218, 65.86722838, 67.82911242,
             66.00202418, 65.63607695, 65.95736694, 65.45876976, 65.99491698, 65.70006194, 65.77721738, 65.47689063,
             65.47397728, 65.46222231, 65.49796456, 65.55971211, 65.49796456, 65.55971211, 65.44802498, 65.49796456,
             65.55971211, 65.58387956, 65.70790851, 65.46960573, 66.36955296, 66.36955296, 66.36955296, 65.41973762,
             65.3364975, 67.32346223, 65.52015378, 65.47396554, 65.65204927, 68.93163765, 65.32774831, 67.0221983,
             66.81900084, 67.1585517, 66.18792194, 66.98502195, 66.2771629, 65.41195029, 67.88253813, 66.00125751,
             67.88951403, 67.88804501, 65.41195029, 65.42624412, 65.40057794, 65.75805983, 65.53605966, 65.35212605,
             65.63908774, 66.36955296, 65.49999329, 65.96073566, 65.72136253, 65.77040345, 65.44093744, 66.19500069,
             65.46697684, 66.79874161, 66.66028201, 66.79874161, 65.78327577, 66.63149398, 66.24886287, 65.46697684,
             65.43027378, 65.5425558, 65.45522848, 65.20262413, 72.98026729, 65.7761846, 65.48765974, 65.47786781,
             65.4844302, 67.87854679, 65.50821515, 65.61247028, 65.68059689, 71.9179221, 66.02643835, 66.78734684,
             65.67091949, 66.04914034, 65.65497532, 65.63227604, 66.07931191, 65.65595866, 65.69776033, 65.84309938,
             66.08567279, 65.94781841, 65.96220796, 65.58940992, 65.98414153, 65.74445916, 65.37806777, 65.94350747,
             65.61992443, 66.03027251, 65.95521289, 65.97900929, 66.02277982, 65.44144824, 65.77798993, 65.92641143,
             65.39600478, 65.76365084, 65.58270185, 65.35571893, 66.79275007, 65.38865637, 65.46708349, 65.410738,
             65.27876595, 65.48068183, 65.57831891, 65.41442389, 65.29876198, 66.36955296, 65.39254826, 65.41847043,
             65.34302804, 65.63978186, 65.64608568, 65.74458177, 65.71214162, 65.71556969, 65.53996677, 66.16173935,
             65.99558592, 66.36955296, 65.68326699, 65.54804484, 66.36955296, 65.95115761, 65.68146176, 66.46105109,
             65.68146176, 65.36499431, 66.61580295, 65.53019294, 65.63722572, 66.36955296, 66.07805986, 65.79933685,
             66.30163137, 65.40222764, 65.68347639, 65.45085837, 71.7831227, 65.37824475, 65.47907518, 65.5587797,
             66.36955296, 65.64807436, 65.84203363, 65.48300292, 65.32214596, 66.39279353, 65.47479764, 65.42319553,
             65.54682207, 65.95333434, 66.27113477, 65.5896273, 70.03715488, 65.60752219, 66.28552033, 65.55439894,
             65.41737842, 65.47401711, 65.78554335, 65.89164812, 65.7730624, 65.62614275, 65.75278779, 65.3807383,
             68.02344494, 65.21570851, 69.9686058, 66.36955296, 66.14760566, 65.55161756, 65.62461987, 68.20243765,
             66.13285025, 65.41597202, 65.44836407, 65.68205017, 65.42406743, 65.37955067, 65.60518416, 65.41575579,
             65.65976755, 65.65976755, 65.68347639, 66.36955296, 65.62468968, 65.64010141, 65.67406727, 65.61782344,
             65.4201476, 66.36955296, 66.36955296, 65.38503189, 65.94571129, 65.3382211, 65.57484169, 65.57088761,
             65.29899843, 65.37944743, 65.27673826, 65.97778581, 65.65074931, 67.58989019, 65.26696689, 65.36660505,
             66.36955296, 66.36955296, 65.45979311, 65.59665668, 66.36955296, 65.36476608, 65.73073646, 65.74117182,
             65.45445336, 65.1474256, 65.25610547, 69.20402099, 66.57852338, 65.13938705, 72.89723019, 65.47318652,
             65.88780823, 65.33577378, 66.36955296, 65.35754573, 65.50074544, 65.72097171, 66.36955296, 65.72097171,
             65.42442653, 65.39534356, 67.12991352, 65.30925068, 66.36955296, 65.26015827, 65.39994139, 67.90382304,
             65.54636229, 73.13120033, 65.28613334, 65.42130496, 65.85731785, 66.36955296, 65.24345735, 65.85629352,
             65.55263978, 65.36384937, 65.31251968, 65.77865215, 65.32728619, 65.31251968, 65.31597437, 65.21958427, 65,
             65.53133317, 65.20242451, 65.96356345, 65.80820311, 66.36239453, 66.30777374, 65.77799412, 65.8722524,
             67.18134861, 67.79495397, 65.89018743, 67.79036697, 66.03883841, 68.88486569, 67.710712, 65.40609529,
             66.44050783, 65.66640398, 65.60023461, 65.63806408, 65.51811776, 65.66640398, 65.80434413, 65.75892893,
             65.59961145, 66.08364685, 65.54433085, 65.75300729, 66.65021473, 66.30634883, 65.80521929, 66.44269407,
             66.11060563, 73.2289291, 66.76902121, 65.28531262, 65.77458454, 65.8722524, 65.62299997, 66.05393931,
             65.23231142, 65.45199933, 67.66813328, 66.0228132, 66.10252314, 72.66937547, 65.46790021, 66.2714256,
             65.20948451, 65.21157668, 65.98518029, 65.88679573, 65.8722524, 65.95238032, 66.12216548, 65.8014757,
             65.77235438, 65.75919327, 67.81037987, 66.39555047, 66.20174219, 65.84364551, 66.01700057, 65.84364551,
             66.5989712, 66.05877226, 72.89723019, 65.46882631, 70.65589381, 67.18463616, 69.41825514, 67.06962011,
             67.19003029, 66.18619284, 65.25914179, 65.27283345, 65.8722524, 65.8722524, 65.6434957, 65.36291865,
             65.54319197, 65.77817891, 66.1013716, 66.44269407, 66.06955241, 65.89788008, 65.79255316, 65.49307491,
             65.46171757, 65.6381099, 65.89956788, 65.60896231, 66.01338177, 65.47390001, 66.05795206, 66.38106997,
             65.98645202, 65.47076427, 65.46079043, 65.46079043, 66.35216532, 65.29973675, 65.43019417, 65.39862711,
             65.66822399, 65.4492453, 66.41912109, 66.06769231, 65.8722524, 65.77150461, 66.28232969, 65.8722524,
             65.79955473, 65.37614144, 65.8722524, 72.89723019, 65.64585307, 66.21313427, 66.91721424, 65.82025367,
             67.54520815, 66.53787749, 66.1525563, 68.1749449, 65.79617138, 65.8722524, 65.8722524, 65.48371621,
             65.85814268, 65.8722524, 65.8722524, 72.89723019, 65.76194888, 65.73340844, 65.8722524, 65.43462835,
             65.8722524, 65.71251432, 65.9240405, 66.01277313, 65.98801155, 67.81037987, 67.86503991, 66.0147222,
             65.86406624, 65.75236255, 69.19524199, 66.13636093, 65.61207831, 65.73637101, 65.62647453, 68.26130339,
             66.2752476, 67.72164892, 65.40818517, 65.24752894, 65.27297321, 69.42555575, 65.31681558, 65.94080924,
             65.8722524, 65.54103875, 65.56792535, 65.6869132, 65.43355682, 65.87277338, 65.59949645, 65.56793926,
             65.6829045, 66.95306154, 65.69177897, 65.58022295, 65.50569376, 65.65338633, 66.30161169, 65.71703864,
             65.65170685, 65.72652815, 66.00405262, 65.85184162, 65.57761521, 66.03329809, 65.65989692, 65.77201696,
             65.76982713, 65.81881317, 65.86691823, 65.78991242, 66.40575001, 66.23743391, 65.78606042, 66.24493381,
             70.23028782, 65.88958708, 70.23028782, 65.7911847, 66.02907589, 66.15623096, 65.94503316, 65.51313578,
             65.5906888, 70.23028782, 66.21079501, 65.8376933, 66.15623096, 66.96872102, 65.50374424, 70.23028782,
             65.50374424, 65.56078582, 65.47068008, 65.64371136, 65.70229686, 66.29512705, 65.41636046, 65.32617268,
             65.35156103, 65.5399262, 66.28736176, 65.55423601, 66.42898959, 66.56652574, 65.58368457, 65.5671988,
             65.60967504, 65.34778271, 65.33864269, 65.5245381, 65.56778196, 65.38467279, 66.01037716, 66.57878219,
             66.57878219, 71.46129055, 66.34212623, 65.95891235, 70.23028782, 66.00766957, 65.5769952, 65.71058424,
             67.75541678, 65.41234391, 65.46090653, 66.43130111, 66.67280163, 66.67280163, 66.79473329, 65.828451,
             66.54803414, 66.55690451, 66.2810284, 66.25962022, 66.82359184, 65.91681865, 66.57899849, 65.81852754,
             65.64551263, 65.55541987, 65.94529654, 71.29400138, 70.23028782, 69.32052664, 65.56526037, 65.34588441,
             65.63686945, 65.47666434, 65.48681491, 65.44334552, 65.56270408, 65.49917885, 65.58895398, 65.50005047,
             65.56692196, 70.23028782, 65.55276987, 66.21394326, 65.57168147, 66.20139018, 65.70651032, 65.72888999,
             66.20941227, 65.93086034, 66.59940845, 66.99979505, 65.48373442, 65, 66.21534642, 66.20215895, 65.66072485,
             66.37799496, 70.23028782, 70.23028782, 65.96426439, 69.97710513, 69.74358485, 65.36275497, 65.70652688,
             65.54717856, 65.94035461, 65.49495948, 66.81790903, 66.76591661, 66.51133972, 65.39285019, 70.23028782,
             66.75553949, 67.02297038, 65.48285081, 68.84036883, 65.89917111, 68.84036883, 65.43940315, 65.52380148,
             65.99814849, 66.11428383, 66.2799803, 65.95974808, 66.1181427, 66.03896216, 68.52448067, 66.33656099,
             66.29147542, 65.54942145, 65.95049211, 66.26746636, 65.48107703, 65.90716769, 65.54942145, 66.07191555,
             66.07191555, 66.06567756, 65.57502682, 66.07357554, 65.62552129, 70.23028782, 70.23028782, 65.39971067,
             65.39713681, 65.64067343, 72.89723019, 66.16276861, 66.28668385, 65.2799802, 66.20444305, 65.48699749,
             68.22640972, 66.13252181, 65.26374789, 67.2210161, 65.25497333, 65.19234378, 65.38321934, 65.59377479,
             65.51013417, 65.36005764, 65.36005764, 65.70950158, 65.46928285, 65.75816294, 66.00707668, 65.51578666,
             65.5901137, 65.53073601, 65.58327921, 65.93519899, 65.89168329, 66.58576756, 65.69833249, 66.20748653,
             66.50623789, 66.33006539, 65.80175111, 66.55265564, 65.69328128, 65.61116722, 66.07596356, 65.64540548,
             66.46051812, 66.17640423, 65.48452746, 65.94668391, 65.57453992, 66.05717272, 65.32079694, 65.52822416,
             66.19197572, 65.760641, 66.17640423, 70.23028782, 66.19197572, 65.59091106, 65.91629494, 65.70344661,
             68.87239435, 69.13808161, 66.07526292, 68.85057816, 67.15052839, 68.61799456, 68.34904931, 70.23028782,
             66.04909306, 70.23028782, 66.14696176, 70.23028782, 66.09854947, 66.02834167, 66.16296016, 65.57572315,
             65.9890318, 66.55323655, 65.43989335, 65.84753935, 65.52315353, 66.12849396, 65.59377653, 65.24313711,
             65.80211516, 70.23028782, 65.62481161, 65.4733288, 70.23028782, 65.90529671, 66.20440775, 66.18391605,
             66.0355644, 65.34264145, 65.57065532, 65.62068521, 65.49825742, 70.23028782, 67.97071509, 65.42265075,
             66.78031156, 65.35667137, 65.17080996, 65.75800383, 65.25499672, 65.53676928, 65.56924416, 65.59628053,
             65.52237139, 65.63081259, 68.15866964, 65.5345004, 70.23028782, 69.10052074, 65.34280401, 65.75616541,
             65.75845437, 65.58616984, 69.07522771, 65.55715646, 70.23028782, 65.68271243, 65.96149283, 65.70980488,
             65.96149283, 65.47110653, 65.48807097, 65.6737525, 66.65163107, 66.08458039, 70.23028782, 66.07431266,
             65.30169348, 65.88949209, 65.76668108, 65.33842527, 65.34589933, 65.29555194, 65.30214476, 65.34093616,
             65.81605969, 66.03537513, 68.46612638]

    final_price = [''] * len(price)
    # price: 2:0.95, 3:0.9, 4: 0.85
    for everyls in res0:
        if len(everyls) == 4:
            tem_price = (price[everyls[0]] + price[everyls[1]] + price[everyls[2]] + price[everyls[3]]) * 0.85
            for dd in everyls:
                final_price[dd] = 'sum of task ' + str(everyls[0] + 1) + ',' + str(everyls[1] + 1) + ',' + str(
                    everyls[2] + 1) + ',' + str(everyls[3] + 1) + ': ' + str(round(tem_price, 2))
        elif len(everyls) == 3:
            tem_price = (price[everyls[0]] + price[everyls[1]] + price[everyls[2]]) * 0.9
            for dd in everyls:
                final_price[dd] = 'sum of task ' + str(everyls[0] + 1) + ',' + str(everyls[1] + 1) + ',' + str(
                    everyls[2] + 1) + ': ' + str(round(tem_price, 2))
        elif len(everyls) == 2:
            tem_price = (price[everyls[0]] + price[everyls[1]]) * 0.95
            for dd in everyls:
                final_price[dd] = 'sum of task ' + str(everyls[0] + 1) + ',' + str(everyls[1] + 1) + ': ' + str(
                    round(tem_price, 2))
        else:
            final_price[everyls[0]] = 'single price:' + str(round(price[everyls[0]], 2))

    # print [len(d) for d in res0]
    print percentage([len(d) for d in res0])
    # print res0
    # for istr in final_price:
        # print istr
